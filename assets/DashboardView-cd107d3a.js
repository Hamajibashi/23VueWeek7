import{_,r as d,o as u,c as h,d as t,e as o,f as n,b as c,a as v,g as b,F as g}from"./index-1731e299.js";const k="https://vue3-course-api.hexschool.io",f={methods:{logout(){const a=`${k}/v2/logout`;this.axios.post(a).then(e=>{this.$router.push("/login"),alert(e.data.message)}).catch(e=>{alert(e.response.data.message)})}}},$={class:"navbar navbar-expand-lg navbar-dark bg-dark sticky-top"},x={class:"container-fluid"},C=t("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[t("span",{class:"navbar-toggler-icon"})],-1),N={class:"collapse navbar-collapse",id:"navbarSupportedContent"},S={class:"navbar-nav me-auto mb-2 mb-lg-0"},V={class:"nav-item"},w={class:"nav-item"},B={class:"nav-item"},y={class:"nav-item"};function F(a,e,r,m,p,l){const s=d("router-link");return u(),h("nav",$,[t("div",x,[o(s,{class:"navbar-brand",to:"/admin"},{default:n(()=>[c("後台")]),_:1}),C,t("div",N,[t("ul",S,[t("li",V,[o(s,{to:"/admin/products",class:"nav-link"},{default:n(()=>[c("產品管理")]),_:1})]),t("li",w,[o(s,{to:"/admin/orders",class:"nav-link"},{default:n(()=>[c("訂單管理")]),_:1})]),t("li",B,[o(s,{to:"/admin/coupons",class:"nav-link"},{default:n(()=>[c("優惠券管理")]),_:1})]),t("li",y,[o(s,{to:"/admin/articles",class:"nav-link"},{default:n(()=>[c("貼文管理")]),_:1})])])]),t("a",{class:"btn btn-danger",onClick:e[0]||(e[0]=(...i)=>l.logout&&l.logout(...i))},"登出")])])}const L=_(f,[["render",F]]),T="https://vue3-course-api.hexschool.io",U={components:{NavbarComponent:L},data(){return{checkSuccess:!1}},methods:{checkLogin(){const a=document.cookie.replace(/(?:(?:^|.*;\s*)hexschool\s*\=\s*([^;]*).*$)|^.*$/,"$1");if(a){this.axios.defaults.headers.common.Authorization=`${a}`;const e=`${T}/v2/api/user/check`;this.axios.post(e).then(()=>{this.checkSuccess=!0}).catch(r=>{alert(r.response.data.message),this.$router.push("/login")})}else alert("請重新登入"),this.$router.push("/login")}},mounted(){this.checkLogin()}},z={class:"container"};function A(a,e,r,m,p,l){const s=d("NavbarComponent"),i=d("router-view");return u(),h(g,null,[o(s),t("div",z,[p.checkSuccess?(u(),v(i,{key:0})):b("",!0)])],64)}const E=_(U,[["render",A]]);export{E as default};
